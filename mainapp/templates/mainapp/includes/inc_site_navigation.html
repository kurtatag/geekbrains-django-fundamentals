{% load staticfiles %}
<div class="header">
    <a class="logo" href="{% url 'index' %}"><img src="{% static 'img/logo.svg' %}" alt="logo"></a>
    <ul class="menu">
        {% for link in site_navigation_links %}
            <li class="menu-list">
                <a href="{% url link.path_name %}"
                   class="{% if request.resolver_match.view_name == link.path_name %}
                            menu-link-active
                          {% elif request.resolver_match.view_name == 'products:category' and 'products' in link.path_name %}
                            menu-link-active
                          {% elif request.resolver_match.view_name == 'products:product_details' and 'products' in link.path_name %}
                            menu-link-active
                          {% else %}
                            menu-link
                          {% endif %}">
                    {{ link.name }}
                </a>
            </li>
        {% endfor %}

        <li class="menu-list">
            {% if request.user.is_authenticated %}
                <a href="{% url 'auth:logout' %}" class="menu-link">Logout</a>
            {% else %}
                <a href="{% url 'auth:login' %}"
                   class="{% if request.resolver_match.view_name == 'auth:login' %}
                            menu-link-active
                          {% else %}
                            menu-link
                          {% endif %}">
                    Login
                </a>
            {% endif %}
        </li>

        {% if request.user.is_authenticated %}
            <li class="menu-list">
                <a href="{% url 'auth:edit' %}"
                   class="{% if request.resolver_match.view_name == link.path_name %}
                            menu-link-active
                          {% else %}
                            menu-link
                          {% endif %}">
                    User({{ request.user }})
                </a>
            </li>
        {% endif %}

        <li class="menu-list search">
            <a href="#">
                <img src="{% static 'img/search.svg' %}" alt="search">
            </a>
        </li>
        {% if 'product' in request.path %}
            <li class="menu-list cart">
                <a href="{% url 'cart:view' %}" >
                    <i class="fas fa-shopping-cart"></i>
                    {% if cart %} <span class="cart-counter">{{ cart | length }} position(s)</span> {% endif %}
                </a>
            </li>
        {% endif %}
    </ul>
</div>
